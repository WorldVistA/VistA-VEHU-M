PXRMP89I ; NA/AJB - Pre/Post Install ;Nov 06, 2024@12:59:08
 ;;2.0;CLINICAL REMINDERS;**89**;Feb 04, 2005;Build 16
 ;
 ; Reference to ^DIC in ICR #10006
 ; Reference to FIND1^DIC in ICR #2051
 ; Reference to UPDATE^DIE in ICR #2053
 ; Reference to WP^DIE in ICR#2053
 ; Reference to BMES^XPDUTL in ICR #10141
 ;
 Q
POST ;
 I '$$FIND1^DIC(811.4,"","","VA-PERSIAN GULF INDICATOR") D
 . D BMES^XPDUTL("Creating the Computed Finding...")
 . N DA,DIC,DLAYGO,PXRMDA,PXRMINST,TMP,X,Y
 . S TMP=DUZ(0),DUZ(0)="@"
 . S (DLAYGO,PXRMINST)=1,DIC="^PXRMD(811.4,",DIC(0)="ML",X="VA-PERSIAN GULF INDICATOR"
 . D ^DIC S DA=+Y Q:'DA
 . N ERROR,PXRMD
 . S PXRMD(811.4,DA_",",.02)="PXRMMSER"
 . S PXRMD(811.4,DA_",",.03)="PGULF"
 . S PXRMD(811.4,DA_",",.04)="VA-Persian Gulf Indicator"
 . S PXRMD(811.4,DA_",",5)="S"
 . S PXRMD(811.4,DA_",",100)="N"
 . D UPDATE^DIE("","PXRMD","PXRMDA","ERROR") Q:$D(ERROR)
 . N DESC S DESC(1,0)="This computed finding returns the PERSIAN GULF INDICATOR value."
 . D WP^DIE(811.4,DA_",",1,"","DESC","ERROR")
 . S DUZ(0)=TMP
 E  W !,"Entry already exists..."
 I '$$FIND1^DIC(801.41,"","","VA-GULFVET QUESTIONNAIRE") D
 . D BMES^XPDUTL("Creating Dialog...")
 . N DA,DIC,DLAYGO,PXRMDA,PXRMINST,TMP,X,Y
 . S (DLAYGO,PXRMINST)=1,DIC="^PXRMD(801.41,",DIC(0)="ML",X="VA-GULFVET QUESTIONNAIRE"
 . D ^DIC Q:'DA
 . N ERROR,PXRMD
 . S PXRMD(801.41,DA_",",4)="R"
 . D UPDATE^DIE("","PXRMD","PXRMDA","ERROR")
 . D LINK2TIU^PXRMDUTL("VA-GULFVET QUESTIONNAIRE","GULFVET QUESTIONNAIRE","",0,"TIU(8925.1,")
 E  D LINK2TIU^PXRMDUTL("VA-GULFVET QUESTIONNAIRE","GULFVET QUESTIONNAIRE","",0,"TIU(8925.1,")
 Q
