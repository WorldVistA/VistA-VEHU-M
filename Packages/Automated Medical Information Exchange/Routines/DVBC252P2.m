DVBC252P2 ;ALB/CP - PATCH DVBA*2.7*252 POST-INSTALL ROUTINE; APR 14, 2023 ; 12/4/23 10:31am
 ;;2.7;AMIE;**252**;Apr 10, 1995;Build 92
 ; Per VHA Directive 6402 this routine should not be modified
 Q
 ;
CMTUPD ;
 ;update name for entry in AMIE Exam to match CMT CAPRI-8765 CP
 N DVBI,DVBDATA,DVBPREV,DVBNEW,DVBNAME,DVBIEN
 F DVBI=1:1 S DVBDATA=$P($T(NEWTEXT+DVBI),";;",2) Q:DVBDATA["$EXIT"  D
 . S DVBPREV=$P(DVBDATA,U,1)
 . S DVBNEW=$P(DVBDATA,U,2)
 . S DVBNAME=""
 . S DVBIEN=0
 . F  S DVBIEN=$O(^DVB(396.6,DVBIEN)) Q:DVBIEN=""  D
 . . S DVBNAME=$P($G(^DVB(396.6,DVBIEN,0)),U,1)
 . . Q:DVBNAME'=DVBPREV
 . . K DIE,DA,DR,X,Y
 . . S DIE="^DVB(396.6,"
 . . S DA=DVBIEN
 . . S DR=".01///"_DVBNEW D ^DIE
 . . K DIE,DA,DR,X,Y
 . Q
 Q
NEWTEXT ;;Names and the Updated
 ;;DBQ AUDIO Hearing loss & tinnitus^DBQ AUDIO Hearing loss and tinnitus
 ;;DBQ CARDIO Arteries & veins (vascular)^DBQ CARDIO Arteries and veins (vascular)
 ;;DBQ CARDIO Heart^DBQ CARDIO Heart Conditions
 ;;DBQ DENTAL Dental & oral (other than TMD)^DBQ DENTAL Dental and oral other than TMD
 ;;DBQ ENDO Diabetes mellitus^DBQ ENDO Diabetes Mellitus
 ;;DBQ ENDO Thyroid & parathyroid^DBQ ENDO Thyroid and Parathyroid
 ;;DBQ ENT Loss of sense of smell & taste^DBQ ENT Loss of sense of smell and taste
 ;;DBQ ENT Sinusitis, rhinitis & other ENT conditions^DBQ ENT Sinusitis rhinitis and other ENT conditions
 ;;DBQ GEN SURG Hernia inguinal, femoral & abdom (not hiatal)^DBQ GI Hernia inguinal femoral and abdom not hiatal
 ;;DBQ GEN SURG Rectum & anus (including hemorrhoids)^DBQ GI Rectum and anus including hemorrhoids
 ;;DBQ GI Esophagus (including GERD & hiatal hernia)^DBQ GI Esophagus including GERD and hiatal hernia
 ;;DBQ GI Intestinal conditions^DBQ GI Intestines
 ;;DBQ GI Liver conditions Hepatitis, cirrhosis & other liver^DBQ GI Liver conditions hepatitis cirrhosis and other liver
 ;;DBQ GI Stomach & duodenum^DBQ GI Stomach and duodenum
 ;;DBQ HEM Hemic & lymphatic, including leukemia^DBQ HEM Hemic and lymphatic including leukemia
 ;;DBQ INFECT South West Asia Infectious diseases^DBQ INFECT Persian Gulf Afghanistan Infectious Diseases
 ;;DBQ MUSC Back (thoracolumbar spine)^DBQ MUSC Back thoracolumbar spine
 ;;DBQ MUSC Elbow & forearm^DBQ MUSC Elbow and Forearm
 ;;DBQ MUSC Foot conditions, including Flatfoot (Pes Planus)^DBQ MUSC Foot conditions including Flatfoot (Pes Planus)
 ;;DBQ MUSC Hand & finger^DBQ MUSC Hand and finger
 ;;DBQ MUSC Hip & thigh conditions^DBQ MUSC Hip and Thigh Conditions
 ;;DBQ MUSC Knee & lower leg^DBQ MUSC Knee and lower leg
 ;;DBQ MUSC Neck (cervical spine)^DBQ MUSC Neck cervical spine
 ;;DBQ MUSC Shoulder & arm^DBQ MUSC Shoulder and Arm
 ;;DBQ NEURO Amyotrophic lateral sclerosis^DBQ NEURO Amyotrophic Lateral Sclerosis
 ;;DBQ NEURO Central nervous system^DBQ NEURO Central Nervous System
 ;;DBQ NEURO Parkinsons disease^DBQ NEURO Parkinsons Disease
 ;;DBQ NEURO Multiple sclerosis^DBQ NEURO Multiple Sclerosis
 ;;DBQ Prisoner of War (POW)^DBQ Former POW Protocol
 ;;DBQ PSYCH Mental disorders^DBQ PSYCH Mental Disorders
 ;;DBQ RESP Respiratory conditions^DBQ RESP Respiratory Conditions
 ;;DBQ RHEUM Arthritis non-degen (inflam, imm, cryst, infect)^DBQ RHEUM Arthritis non-degen
 ;;DBQ RHEUM Chronic fatigue syndrome^DBQ RHEUM Chronic Fatigue syndrome
 ;;DBQ Spina Bifida^DBQ Spina bifida
 ;;$EXIT
 Q
 ;
 ;PDF DBQ signature fields CAPRI-12469.  JD - 8/5/24
 ;Updated row 15 from "APSYCH..." to "N=APSYCH..." and added rows 24-26.  JD - 11/26/24
 ;Updated row 15 from "N=APSYCH..." to "S=APSYCH...".  JD - 12/2/24
PARAM ;
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",1,"S=AEXAMINERSSIGNATURE")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",2,"N=BEXAMINERSPRINTEDNAME")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",3,"D=CDATESIGNED")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",4,"A=GEXAMINERSADDRESS")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",5,"S=SOCIALWORKERSSIGNATURE")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",6,"N=SOCIALWORKERSPRINTEDNAME")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",7,"D=DATESIGNED")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",8,"A=SOCIALWORKERSADDRESS")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",9,"A=EXAMININGLOCATIONFACILITYORADDRESS")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",10,"D=YYYYMMDD")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",11,"N=PRINTEDNAME")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",12,"S=SIGNATURE")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",13,"A=FPSYCHIATRISTPSYCHOLOGISTEXAMINERADDRESS")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",14,"N=BPSYCHIATRISTPSYCHOLOGISTEXAMINERPRINTEDNAME")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",15,"S=APSYCHIATRISTPSYCHOLOGISTEXAMINERSIGNATURETITLE")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",16,"A=GPSYCHIATRISTPSYCHOLOGISTEXAMINERADDRESS")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",17,"A=FEXAMINERSADDRESS")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",18,"S=SIGNATUREOFEXAMINERREQUIRED")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",19,"A=ADDRESSOFMEDICALFACILITYNUMBERANDSTREETORRURALRO")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",20,"D=DATESIGNEDMMDDYYYY")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",21,"N=PRINTEDNAMEOFEXAMINER")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",22,"X=DBQSEPARATIONHEALTHASSESSMENT_528_SIGNATURE")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",23,"X=DBQSEPARATIONHEALTHASSESSMENT_527_PRINTEDNAME")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",24,"A=EXAMINERSADDRESS")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",25,"N=EXAMINERSPRINTEDNAME")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 S DVBVER=$$ENXPARS^DVBC252P("PKG.AUTOMATED MED INFO EXCHANGE","DVBAB CAPRI PDF SIG FLD NAMES",26,"S=EXAMINERSSIGNATURE")
 D UPDMSG^DVBC252P("DVBAB CAPRI PDF SIG FLD NAMES",DVBVER)
 K DVBVER
 Q
