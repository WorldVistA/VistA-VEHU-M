ONCSCHMN ;HINES OIFO/RTK - Onco AJCC ID 9th Edition ;11/12/24
 ;;2.2;ONCOLOGY;**21**;Jul 31, 2013;Build 6
 ;
AJCCV9 ;Check if AJCC 9th Edition, if so use 9xxx for AJCC ID #
 ; ONCAJID should already be set to calculated AJCC ID
 N ONCOLDSC
 S ONCOLDSC=$P($G(^ONCO(165.5,D0,"SSD1")),U,1)  ; existing calculated Schema ID
 S DATEDX=$P($G(^ONCO(165.5,D0,0)),U,16)
 ;
 I DATEDX>3201231,ONCOLDSC="09520" S ONCAJID=9001  ;Cervix
 I DATEDX>3221231,ONCOLDSC="09190" S ONCAJID=9002  ;Appendix
 I DATEDX>3221231,ONCOLDSC="09210" S ONCAJID=9003  ;Anus
 I DATEDX>3221231 D
 .I (ONCAJID=72)!(ONCAJID="72.1") D
 ..I (ONCOLDSC="09721")!(ONCOLDSC="09722") S ONCAJID=9004  ;Brain & SC Other
 ..I (ONCOLDSC="09723")!(ONCOLDSC="09724") S ONCAJID=9004  ;Brain & SC Other
 I DATEDX>3221231 D
 .I ONCAJID="72.2",ONCOLDSC="09724" S ONCAJID=9005  ;Brain & SC Medulloblastoma
 I DATEDX>3231231,ONCOLDSC="09500" S ONCAJID=9006  ;Vulva
 I DATEDX>3231231,ONCOLDSC="09290" S ONCAJID=9007  ;NET - Stomach
 I DATEDX>3231231 D
 .I (ONCOLDSC="09301")!(ONCOLDSC="09302") S ONCAJID=9008  ;NET - Duo & Ampulla
 I DATEDX>3231231,ONCOLDSC="09310" S ONCAJID=9009  ;NET - Jejunum & Ileum
 I DATEDX>3231231,ONCOLDSC="09320" S ONCAJID=9010  ;NET - Appendix
 I DATEDX>3231231,ONCOLDSC="09330" S ONCAJID=9011  ;NET - Colon & Rectum
 I DATEDX>3231231,ONCOLDSC="09340" S ONCAJID=9012  ;NET - Pancreas
 Q
