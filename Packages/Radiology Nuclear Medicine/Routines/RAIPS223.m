RAIPS223 ;WOIFO/KLM - Post-init Driver, patch 223 ; Mar 13, 2025@08:46:44
 ;;5.0;Radiology/Nuclear Medicine;**223**;Mar 16, 1998;Build 4
  ;
 ;This post-init will populate the new RADIOLOGY PROCEDURE MAP TO CC CONSULT (#71.1235) file
 ;for special procedure mapping with auto-referral to community care 
 ;
 Q
 ;
EN ;entry point
 N RAI,RA01,RA2,RA3,RA4,RADATA,RADA,RAERR
 F RAI=1:1 S RADATA=$T(PROCS+RAI) Q:RADATA=""  D
 .S RA01=$P($P(RADATA,";",3),"^"),RA2=$P(RADATA,"^",2),RA3=$P(RADATA,"^",3),RA4=$P(RADATA,"^",4)
 .N RAFDA,RAR S RAR="RAFDA(71.1235,""?+1,"")" ;FDA root -check for existing entry
 .S @RAR@(.01)=RA01
 .S:$D(RA2) @RAR@(2)=RA2    ;CCC
 .S:$D(RA3) @RAR@(3)=RA3    ;CPT (can be empty)
 .S:$D(RA4) @RAR@(4)=RA4    ;I-Type (p79.2)
 .K RADA D UPDATE^DIE("E","RAFDA","RADA","RAERR") K RAFDA
 .I $D(RAERR(1,"DIERR"))#2 D MES^XPDUTL("An error occured filing data for "_RA01) Q
 .Q
 Q
 ; 
PROCS ;procedure/i-type mappings to consult
 ;;ANGIO/NEURO/INTERVENTIONAL^COMMUNITY CARE-IMAGING ANGIO/NEURO/INTERVENTIONAL-AUTO^^ANGIO/NEURO/INTERVENTIONAL
 ;;CARDIOLOGY STUDIES (NUC MED)^COMMUNITY CARE-IMAGING CARDIOLOGY STUDIES (NUC MED)-AUTO^^CARDIOLOGY STUDIES (NUC MED)
 ;;CT SCAN^COMMUNITY CARE-IMAGING CT-AUTO^^CT SCAN
 ;;DIAGNOSTIC MAMMOGRAPHY^COMMUNITY CARE-IMAGING MAMMOGRAPHY DIAGNOSTIC-AUTO^^MAMMOGRAPHY
 ;;GENERAL RADIOLOGY^COMMUNITY CARE-IMAGING GENERAL RADIOLOGY-AUTO^^GENERAL RADIOLOGY
 ;;LDCT LUNG CANCER SCREENING^COMMUNITY CARE-IMAGING LDCT LUNG CANCER SCREENING-AUTO^71271^CT SCAN
 ;;LDCT LCS 1, 3 OR 6 MONTH FOLLOW UP^COMMUNITY CARE-IMAGING LDCT 1, 3, OR 6 MONTH FOLLOW UP-AUTO^71250^CT SCAN
 ;;MAGNETIC RESONANCE IMAGING^COMMUNITY CARE-IMAGING MAGNETIC RESONANCE IMAGING-AUTO^^MAGNETIC RESONANCE IMAGING
 ;;NUCLEAR MEDICINE^COMMUNITY CARE-IMAGING NUCLEAR MEDICINE-AUTO^^NUCLEAR MEDICINE
 ;;SCREEN MAMMOGRAPHY^COMMUNITY CARE-IMAGING MAMMOGRAPHY SCREEN-AUTO^^MAMMOGRAPHY
 ;;ULTRASOUND^COMMUNITY CARE-IMAGING ULTRASOUND-AUTO^^ULTRASOUND
 ;;VASCULAR LAB^COMMUNITY CARE-IMAGING VASCULAR LAB-AUTO^^VASCULAR LAB
