SDES2VAL2 ;ALB/MGD - SDES2 PATIENT UTILITIES ;July 7, 2023
 ;;5.3;Scheduling;**853**;Aug 13, 1993;Build 9
 ;;Per VHA Directive 6402, this routine should not be modified
 ;
 ; Reference to ^DPT( in #10035
 ;
 Q
 ;
VALPATDFN(SDERRORS,SDDFN,SDREQUIRED,SDALLOWDELETE) ;
 I $G(SDREQUIRED)&(SDDFN="") D ERRLOG^SDES2JSON(.SDERRORS,1) Q
 I '$G(SDALLOWDELETE)&(SDDFN="@") D ERRLOG^SDES2JSON(.SDERRORS,229,"Patient DFN") Q
 Q:(SDDFN="")!(SDDFN="@")
 I '$D(^DPT(SDDFN,0)) D ERRLOG^SDES2JSON(.SDERRORS,2)
 Q
VALPATICN(SDERRORS,SDICN,SDREQUIRED,SDALLOWDELETE) ;
 I $G(SDREQUIRED)&(SDICN="") D ERRLOG^SDES2JSON(.SDERRORS,1)
 I '$G(SDALLOWDELETE)&(SDICN="@") D ERRLOG^SDES2JSON(.SDERRORS,229,"Patient ICN") Q
 Q:(SDICN="")!(SDICN="@")
 I '$D(^DPT("AICN",SDICN)) D ERRLOG^SDES2JSON(.SDERRORS,452,SDICN)
 Q
