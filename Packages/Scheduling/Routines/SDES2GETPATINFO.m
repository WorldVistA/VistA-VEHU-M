SDES2GETPATINFO ;ALB/BLB - SDES2 GET PATIENT INFO Nov 02,2023
 ;;5.3;Scheduling;**866**;Aug 13, 1993;Build 22
 ;;Per VHA Directive 6402, this routine should not be modified
 ;
 Q
 ;
GETINFO(JSON,SDCONTEXT,PATIENT) ;
 N ERRORS,VALRETURN,PATIENTINFO
 ;
 D VALCONTEXT^SDES2VALCONTEXT(.ERRORS,.SDCONTEXT)
 D VALFILEIEN^SDES2VALUTIL(.VALRETURN,.ERRORS,2,$G(PATIENT("PATIENT DFN")),1,,1,2)
 I $D(ERRORS) S ERRORS("PatientInfo",1)=""  D BUILDJSON^SDES2JSON(.JSON,.ERRORS) Q
 ;
 D POPULATE^SDES2PATSEARCH(.PATIENTINFO,PATIENT("PATIENT DFN"),"",1)
 D BUILDJSON^SDES2JSON(.JSON,.PATIENTINFO)
 ;
 Q
 ;
